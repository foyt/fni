<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html">  
    
  <h:outputScript name="/scripts/gui/menu.js" target="head"></h:outputScript>

  <div id="site-menu-bar">
    <div id="site-menu-bar-first-column">
      <div class="site-menu-bar-widget" id="site-menu-bar-widget-index"><a href="#{request.contextPath}/">#{locales['generic.header.menuBarWidgetIndexLabel']}</a></div>
      <div class="site-menu-bar-widget" id="site-menu-bar-widget-forge"><a href="#{request.contextPath}/forge/">#{locales['generic.header.menuBarWidgetForgeLabel']}</a></div>
      <div class="site-menu-bar-widget site-menu-bar-widget-disabled" id="site-menu-bar-widget-illusion"><a href="javascript:void(null);">#{locales['generic.header.menuBarWidgetIllusionLabel']}</a></div>
      <div class="site-menu-bar-widget" id="site-menu-bar-widget-store">
        <h:link outcome="/store/index.jsf" value="#{locales['generic.header.menuBarWidgetStoreLabel']}"/>
      </div>
      <div class="site-menu-bar-widget" id="site-menu-bar-widget-forum"><a href="#{request.contextPath}/forum/">#{locales['generic.header.menuBarWidgetForumLabel']}</a></div>
    </div>
    <div id="site-menu-bar-second-column">
    </div>
    <div id="site-menu-bar-third-column">
      <div class="site-menu-bar-widget site-menu-bar-widget-disabled" id="site-menu-bar-widget-search"><a href="javascript:void(null);">#{locales['generic.header.menuBarWidgetSearchLabel']}</a></div>

      <h:panelGroup layout="block" class="site-menu-bar-widget" id="site-menu-bar-widget-account"  rendered="#{sessionBackingBean.loggedIn}">
        <a href="javascript:void(null);">#{locales['generic.header.menuBarWidgetAccountLabel']}</a>
      </h:panelGroup>
      
      <h:panelGroup layout="block" class="site-menu-bar-widget" id="site-menu-bar-widget-login" rendered="#{!sessionController.loggedIn}">
        <a href="#{request.contextPath}/login/">#{locales['generic.header.menuBarWidgetLoginLabel']}</a>
      </h:panelGroup>

      <h:panelGroup layout="block" class="site-menu-bar-widget" id="site-menu-bar-widget-locale">
        <a href="javascript:void(null);">#{sessionBackingBean.locale.language}</a>
      </h:panelGroup>
      
      <div style="display: none" id="site-menu-bar-widget-locale-content" class="site-menu-bar-widget-content">
        <h:form>
          <span>#{locales['generic.header.menuBarWidgetLocaleSelectText']}</span>
          
          <ul>
            <li>
              <span>
                <h:commandLink value="#{locales['generic.header.menuBarWidgetLocaleFinnish']}" action="#{sessionBackingBean.changeLanguage('fi')}" />
              </span>
            </li>
            <li>
              <span>
                <h:commandLink value="#{locales['generic.header.menuBarWidgetLocaleEnglish']}" action="#{sessionBackingBean.changeLanguage('en')}" />
              </span>
            </li>
          </ul>
        </h:form>
      </div>
      
      <div style="display: none" id="site-menu-bar-widget-account-content" class="site-menu-bar-widget-content">
        <h:form>
          <ul>
            <li>
              <span>
                <h:link value="#{locales['generic.header.menuBarWidgetAccountEditProfile']}" outcome="" />
              </span>
            </li>
            <li>
              <span>
                <h:outputLink value="#{request.contextPath}/logout">#{locales['generic.header.menuBarWidgetAccountLogout']}</h:outputLink>
              </span>
            </li>
          </ul>
        </h:form>
      </div>
      
    </div>
  </div> 
</ui:composition>  
  